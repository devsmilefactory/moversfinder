import React from 'react';
import Button from '../../dashboards/shared/Button';
import { LoadingSpinner } from '../shared/loading/LoadingSpinner';\n\n/**\n * BookingModalFooter Component\n * \n * Footer section containing pricing summary and action buttons.\n * Provides clear cost breakdown and booking confirmation.\n */\nconst BookingModalFooter = ({\n  // Form state\n  isFormValid,\n  canProceedToNextStep,\n  \n  // Pricing\n  estimate,\n  formattedPrice,\n  isCalculating,\n  \n  // Submission\n  isSubmitting,\n  submitError,\n  \n  // Actions\n  onSubmit,\n  onClose,\n  \n  // Service info\n  selectedService,\n  schedulingSummary\n}) => {\n  // Get booking button text based on scheduling\n  const getBookingButtonText = () => {\n    if (isSubmitting) return 'Processing...';\n    \n    if (schedulingSummary?.type === 'instant') {\n      return 'üöÄ Book Now';\n    }\n    \n    if (schedulingSummary?.type === 'specific_time') {\n      return 'üìÖ Schedule Ride';\n    }\n    \n    if (schedulingSummary?.type === 'specific_dates' && schedulingSummary?.count > 1) {\n      return `üìÖ Book ${schedulingSummary.count} Rides`;\n    }\n    \n    return '‚úì Confirm Booking';\n  };\n\n  // Get price display with context\n  const getPriceDisplay = () => {\n    if (isCalculating) {\n      return (\n        <div className=\"flex items-center gap-2 text-slate-600\">\n          <LoadingSpinner size=\"sm\" />\n          <span className=\"text-sm\">Calculating...</span>\n        </div>\n      );\n    }\n    \n    if (!estimate || !formattedPrice) {\n      return (\n        <div className=\"text-slate-500 text-sm\">\n          Enter locations to see price\n        </div>\n      );\n    }\n    \n    const isRecurring = schedulingSummary?.count > 1;\n    const isRoundTrip = estimate?.isRoundTrip;\n    \n    return (\n      <div className=\"text-right\">\n        <div className=\"text-2xl font-bold text-slate-900\">\n          {formattedPrice}\n        </div>\n        \n        <div className=\"text-xs text-slate-500 space-y-1\">\n          {isRoundTrip && (\n            <div>Round trip included</div>\n          )}\n          \n          {isRecurring && (\n            <div>{schedulingSummary.count} rides total</div>\n          )}\n          \n          {estimate?.distance && (\n            <div>{estimate.distance.toFixed(1)} km ‚Ä¢ {estimate.duration} min</div>\n          )}\n          \n          <div className=\"text-slate-400\">\n            *Final fare based on actual distance\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Check if booking is possible\n  const canBook = isFormValid && !isSubmitting && !isCalculating;\n  \n  return (\n    <div className=\"sticky bottom-0 bg-white border-t border-slate-200 md:rounded-b-xl\">\n      {/* Error Display */}\n      {submitError && (\n        <div className=\"px-4 py-3 bg-red-50 border-b border-red-200\">\n          <div className=\"flex items-start gap-3\">\n            <span className=\"text-red-600 text-lg\">‚ùå</span>\n            <div>\n              <h4 className=\"text-sm font-medium text-red-800\">Booking Failed</h4>\n              <p className=\"text-sm text-red-700 mt-1\">{submitError}</p>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Main Footer Content */}\n      <div className=\"px-4 py-4\">\n        <div className=\"flex items-center justify-between gap-4\">\n          {/* Left: Price Summary */}\n          <div className=\"flex-1\">\n            {getPriceDisplay()}\n          </div>\n          \n          {/* Right: Action Buttons */}\n          <div className=\"flex items-center gap-3\">\n            <Button\n              variant=\"outline\"\n              onClick={onClose}\n              disabled={isSubmitting}\n              className=\"px-6\"\n            >\n              Cancel\n            </Button>\n            \n            <Button\n              variant=\"primary\"\n              onClick={onSubmit}\n              disabled={!canBook}\n              loading={isSubmitting}\n              className=\"px-8\"\n            >\n              {getBookingButtonText()}\n            </Button>\n          </div>\n        </div>\n        \n        {/* Additional Info */}\n        <div className=\"mt-3 pt-3 border-t border-slate-100\">\n          <div className=\"flex items-center justify-between text-xs text-slate-500\">\n            <div className=\"flex items-center gap-4\">\n              <span>üöï {selectedService.charAt(0).toUpperCase() + selectedService.slice(1)}</span>\n              \n              {schedulingSummary?.type !== 'instant' && (\n                <span>üìÖ {schedulingSummary?.display || 'Scheduled'}</span>\n              )}\n              \n              {estimate?.currency && (\n                <span>üí∞ Prices in {estimate.currency}</span>\n              )}\n            </div>\n            \n            <div className=\"flex items-center gap-2\">\n              <span>üîí Secure booking</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Service-specific footer notes */}\n      {selectedService === 'courier' && (\n        <div className=\"px-4 py-2 bg-green-50 border-t border-green-100\">\n          <p className=\"text-xs text-green-700\">\n            üì¶ Package will be handled with care. Delivery confirmation included.\n          </p>\n        </div>\n      )}\n      \n      {selectedService === 'errands' && (\n        <div className=\"px-4 py-2 bg-purple-50 border-t border-purple-100\">\n          <p className=\"text-xs text-purple-700\">\n            üõí Driver will complete all tasks in optimal order. Wait time included.\n          </p>\n        </div>\n      )}\n      \n      {selectedService === 'schoolRun' && (\n        <div className=\"px-4 py-2 bg-orange-50 border-t border-orange-100\">\n          <p className=\"text-xs text-orange-700\">\n            üéí Child safety is our priority. Driver will wait for pickup confirmation.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BookingModalFooter;"