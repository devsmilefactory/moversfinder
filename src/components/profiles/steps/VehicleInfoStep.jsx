import React, { useState, useMemo } from 'react';\nimport { Car, Calendar, Palette, Hash, Camera } from 'lucide-react';\nimport { FormInput, FormSelect } from '../../shared/forms';\nimport Icon from '../../ui/AppIcon';\n\n/**\n * VehicleInfoStep Component\n * \n * Handles vehicle information collection including:\n * - Vehicle make, model, year, and color\n * - License plate and registration details\n * - Vehicle photos and documentation\n * - Vehicle condition and specifications\n */\nconst VehicleInfoStep = ({\n  formData = {},\n  errors = {},\n  onChange,\n  onFileChange,\n  className = ''\n}) => {\n  const [selectedMake, setSelectedMake] = useState(formData.vehicle_make || '');\n\n  const handleInputChange = (name, value) => {\n    onChange?.(name, value);\n    \n    // Reset model when make changes\n    if (name === 'vehicle_make') {\n      setSelectedMake(value);\n      if (formData.vehicle_model) {\n        onChange?.('vehicle_model', '');\n      }\n    }\n  };\n\n  const handleFileUpload = (name, file) => {\n    onFileChange?.(name, file);\n  };\n\n  // Vehicle data for Zimbabwe market\n  const VEHICLE_MAKES = [\n    'Toyota', 'Nissan', 'Honda', 'Mazda', 'Mitsubishi', 'Isuzu', 'Ford', 'Volkswagen',\n    'Mercedes-Benz', 'BMW', 'Audi', 'Hyundai', 'Kia', 'Suzuki', 'Subaru', 'Chevrolet',\n    'Peugeot', 'Renault', 'Land Rover', 'Jeep', 'Other'\n  ].sort().map(make => ({ value: make, label: make }));\n\n  const VEHICLE_MODELS = {\n    'Toyota': ['Corolla', 'Camry', 'RAV4', 'Hilux', 'Land Cruiser', 'Prado', 'Fortuner', 'Avensis', 'Yaris', 'Vitz', 'Wish', 'Fielder', 'Axio', 'Premio', 'Allion', 'Mark X', 'Harrier', 'Vanguard'],\n    'Nissan': ['Almera', 'Sentra', 'Tiida', 'X-Trail', 'Qashqai', 'Patrol', 'Navara', 'NP300', 'Juke', 'Micra', 'Note', 'Wingroad', 'AD Van', 'Caravan'],\n    'Honda': ['Civic', 'Accord', 'CR-V', 'HR-V', 'Fit', 'Jazz', 'City', 'Stream', 'Stepwgn', 'Odyssey'],\n    'Mazda': ['Mazda3', 'Mazda6', 'CX-5', 'CX-3', 'Demio', 'Axela', 'Atenza', 'Premacy', 'Biante', 'BT-50'],\n    'Mitsubishi': ['Lancer', 'Pajero', 'Outlander', 'ASX', 'Triton', 'L200', 'Colt', 'Galant', 'RVR'],\n    'Isuzu': ['D-Max', 'KB', 'MU-X', 'Trooper', 'NPR', 'NQR'],\n    'Ford': ['Ranger', 'Everest', 'Focus', 'Fiesta', 'EcoSport', 'Kuga', 'Territory'],\n    'Volkswagen': ['Polo', 'Golf', 'Jetta', 'Passat', 'Tiguan', 'Amarok', 'Touareg'],\n    'Mercedes-Benz': ['C-Class', 'E-Class', 'S-Class', 'GLA', 'GLC', 'GLE', 'Vito', 'Sprinter'],\n    'BMW': ['3 Series', '5 Series', '7 Series', 'X1', 'X3', 'X5', 'X6'],\n    'Audi': ['A3', 'A4', 'A6', 'Q3', 'Q5', 'Q7'],\n    'Hyundai': ['i10', 'i20', 'Accent', 'Elantra', 'Tucson', 'Santa Fe', 'Creta', 'H100'],\n    'Kia': ['Picanto', 'Rio', 'Cerato', 'Sportage', 'Sorento', 'K2700'],\n    'Suzuki': ['Swift', 'Vitara', 'Jimny', 'Ertiga', 'Ciaz', 'Alto'],\n    'Subaru': ['Impreza', 'Legacy', 'Outback', 'Forester', 'XV'],\n    'Chevrolet': ['Spark', 'Aveo', 'Cruze', 'Captiva', 'Utility'],\n    'Peugeot': ['206', '207', '208', '308', '508', '2008', '3008', 'Partner'],\n    'Renault': ['Clio', 'Sandero', 'Duster', 'Captur', 'Kangoo'],\n    'Land Rover': ['Defender', 'Discovery', 'Range Rover', 'Freelander', 'Evoque'],\n    'Jeep': ['Wrangler', 'Cherokee', 'Grand Cherokee', 'Compass', 'Renegade'],\n    'Other': ['Other Model']\n  };\n\n  const VEHICLE_COLORS = [\n    'White', 'Silver', 'Black', 'Grey', 'Blue', 'Red', 'Green', 'Yellow',\n    'Brown', 'Beige', 'Gold', 'Orange', 'Purple', 'Maroon', 'Other'\n  ].sort().map(color => ({ value: color, label: color }));\n\n  const VEHICLE_TYPES = [\n    { value: 'sedan', label: 'Sedan' },\n    { value: 'hatchback', label: 'Hatchback' },\n    { value: 'suv', label: 'SUV' },\n    { value: 'pickup', label: 'Pickup Truck' },\n    { value: 'van', label: 'Van' },\n    { value: 'minibus', label: 'Minibus' },\n    { value: 'other', label: 'Other' }\n  ];\n\n  const FUEL_TYPES = [\n    { value: 'petrol', label: 'Petrol' },\n    { value: 'diesel', label: 'Diesel' },\n    { value: 'hybrid', label: 'Hybrid' },\n    { value: 'electric', label: 'Electric' }\n  ];\n\n  // Get available models for selected make\n  const availableModels = useMemo(() => {\n    if (!selectedMake || !VEHICLE_MODELS[selectedMake]) {\n      return [];\n    }\n    return VEHICLE_MODELS[selectedMake].map(model => ({ value: model, label: model }));\n  }, [selectedMake]);\n\n  // Generate year options (current year back to 1990)\n  const currentYear = new Date().getFullYear();\n  const yearOptions = [];\n  for (let year = currentYear; year >= 1990; year--) {\n    yearOptions.push({ value: year.toString(), label: year.toString() });\n  }\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Header */}\n      <div className=\"text-center space-y-2\">\n        <div className=\"mx-auto w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center\">\n          <Car className=\"w-6 h-6 text-purple-600\" />\n        </div>\n        <h2 className=\"text-xl font-semibold text-gray-900\">\n          Vehicle Information\n        </h2>\n        <p className=\"text-sm text-gray-600\">\n          Tell us about the vehicle you'll be using for rides\n        </p>\n      </div>\n\n      {/* Basic Vehicle Details */}\n      <div className=\"space-y-4\">\n        <h3 className=\"text-lg font-medium text-gray-900 flex items-center gap-2\">\n          <Car className=\"w-5 h-5\" />\n          Vehicle Details\n        </h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <FormSelect\n            label=\"Vehicle Make\"\n            name=\"vehicle_make\"\n            value={formData.vehicle_make || ''}\n            onChange={(value) => handleInputChange('vehicle_make', value)}\n            options={VEHICLE_MAKES}\n            error={errors.vehicle_make}\n            required\n            placeholder=\"Select vehicle make\"\n          />\n          \n          <FormSelect\n            label=\"Vehicle Model\"\n            name=\"vehicle_model\"\n            value={formData.vehicle_model || ''}\n            onChange={(value) => handleInputChange('vehicle_model', value)}\n            options={availableModels}\n            error={errors.vehicle_model}\n            required\n            placeholder={selectedMake ? \"Select vehicle model\" : \"Select make first\"}\n            disabled={!selectedMake}\n          />\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <FormSelect\n            label=\"Year\"\n            name=\"vehicle_year\"\n            value={formData.vehicle_year || ''}\n            onChange={(value) => handleInputChange('vehicle_year', value)}\n            options={yearOptions}\n            error={errors.vehicle_year}\n            required\n            placeholder=\"Select year\"\n          />\n          \n          <FormSelect\n            label=\"Color\"\n            name=\"vehicle_color\"\n            value={formData.vehicle_color || ''}\n            onChange={(value) => handleInputChange('vehicle_color', value)}\n            options={VEHICLE_COLORS}\n            error={errors.vehicle_color}\n            required\n            placeholder=\"Select color\"\n          />\n          \n          <FormSelect\n            label=\"Vehicle Type\"\n            name=\"vehicle_type\"\n            value={formData.vehicle_type || ''}\n            onChange={(value) => handleInputChange('vehicle_type', value)}\n            options={VEHICLE_TYPES}\n            error={errors.vehicle_type}\n            placeholder=\"Select type\"\n          />\n        </div>\n      </div>\n\n      {/* Registration Details */}\n      <div className=\"space-y-4\">\n        <h3 className=\"text-lg font-medium text-gray-900 flex items-center gap-2\">\n          <Hash className=\"w-5 h-5\" />\n          Registration Details\n        </h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <FormInput\n            label=\"License Plate Number\"\n            name=\"license_plate\"\n            value={formData.license_plate || ''}\n            onChange={(value) => handleInputChange('license_plate', value.toUpperCase())}\n            error={errors.license_plate}\n            required\n            placeholder=\"ABC-1234\"\n            className=\"uppercase\"\n          />\n          \n          <FormInput\n            label=\"Engine Number\"\n            name=\"engine_number\"\n            value={formData.engine_number || ''}\n            onChange={(value) => handleInputChange('engine_number', value)}\n            error={errors.engine_number}\n            placeholder=\"ENG123456789\"\n          />\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <FormInput\n            label=\"Chassis Number (VIN)\"\n            name=\"chassis_number\"\n            value={formData.chassis_number || ''}\n            onChange={(value) => handleInputChange('chassis_number', value)}\n            error={errors.chassis_number}\n            placeholder=\"1HGBH41JXMN109186\"\n          />\n          \n          <FormSelect\n            label=\"Fuel Type\"\n            name=\"fuel_type\"\n            value={formData.fuel_type || ''}\n            onChange={(value) => handleInputChange('fuel_type', value)}\n            options={FUEL_TYPES}\n            error={errors.fuel_type}\n            placeholder=\"Select fuel type\"\n          />\n        </div>\n      </div>\n\n      {/* Vehicle Specifications */}\n      <div className=\"space-y-4\">\n        <h3 className=\"text-lg font-medium text-gray-900 flex items-center gap-2\">\n          <Icon name=\"Settings\" className=\"w-5 h-5\" />\n          Specifications\n        </h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <FormInput\n            label=\"Seating Capacity\"\n            name=\"seating_capacity\"\n            type=\"number\"\n            value={formData.seating_capacity || ''}\n            onChange={(value) => handleInputChange('seating_capacity', value)}\n            error={errors.seating_capacity}\n            placeholder=\"5\"\n            min=\"2\"\n            max=\"15\"\n          />\n          \n          <FormInput\n            label=\"Engine Size (L)\"\n            name=\"engine_size\"\n            type=\"number\"\n            step=\"0.1\"\n            value={formData.engine_size || ''}\n            onChange={(value) => handleInputChange('engine_size', value)}\n            error={errors.engine_size}\n            placeholder=\"2.0\"\n          />\n          \n          <FormInput\n            label=\"Mileage (km)\"\n            name=\"mileage\"\n            type=\"number\"\n            value={formData.mileage || ''}\n            onChange={(value) => handleInputChange('mileage', value)}\n            error={errors.mileage}\n            placeholder=\"150000\"\n          />\n        </div>\n      </div>\n\n      {/* Vehicle Photos */}\n      <div className=\"space-y-4\">\n        <h3 className=\"text-lg font-medium text-gray-900 flex items-center gap-2\">\n          <Camera className=\"w-5 h-5\" />\n          Vehicle Photos\n        </h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Front Photo */}\n          <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4\">\n            <div className=\"text-center\">\n              <Camera className=\"mx-auto h-8 w-8 text-gray-400\" />\n              <div className=\"mt-2\">\n                <label className=\"cursor-pointer\">\n                  <span className=\"block text-sm font-medium text-gray-900\">\n                    Front View\n                  </span>\n                  <span className=\"block text-xs text-gray-500 mt-1\">\n                    Clear photo of vehicle front\n                  </span>\n                  <input\n                    type=\"file\"\n                    className=\"sr-only\"\n                    accept=\"image/*\"\n                    onChange={(e) => handleFileUpload('vehicle_photo_front', e.target.files[0])}\n                  />\n                  <span className=\"mt-2 inline-flex items-center px-3 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50\">\n                    Choose Photo\n                  </span>\n                </label>\n              </div>\n              \n              {formData.vehicle_photo_front && (\n                <div className=\"mt-2 text-xs text-green-600\">\n                  ✓ {formData.vehicle_photo_front.name}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Side Photo */}\n          <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4\">\n            <div className=\"text-center\">\n              <Camera className=\"mx-auto h-8 w-8 text-gray-400\" />\n              <div className=\"mt-2\">\n                <label className=\"cursor-pointer\">\n                  <span className=\"block text-sm font-medium text-gray-900\">\n                    Side View\n                  </span>\n                  <span className=\"block text-xs text-gray-500 mt-1\">\n                    Clear photo of vehicle side\n                  </span>\n                  <input\n                    type=\"file\"\n                    className=\"sr-only\"\n                    accept=\"image/*\"\n                    onChange={(e) => handleFileUpload('vehicle_photo_side', e.target.files[0])}\n                  />\n                  <span className=\"mt-2 inline-flex items-center px-3 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50\">\n                    Choose Photo\n                  </span>\n                </label>\n              </div>\n              \n              {formData.vehicle_photo_side && (\n                <div className=\"mt-2 text-xs text-green-600\">\n                  ✓ {formData.vehicle_photo_side.name}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"text-xs text-gray-500\">\n          <p>• Photos should be clear and well-lit</p>\n          <p>• Vehicle should be clean and visible</p>\n          <p>• License plate should be clearly readable</p>\n        </div>\n      </div>\n\n      {/* Vehicle Requirements */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <div className=\"flex items-start gap-3\">\n          <Icon name=\"Info\" className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n          <div>\n            <p className=\"text-sm font-medium text-blue-900\">\n              Vehicle Requirements\n            </p>\n            <ul className=\"text-sm text-blue-700 mt-1 space-y-1\">\n              <li>• Vehicle must be 2005 or newer</li>\n              <li>• Must have valid registration and insurance</li>\n              <li>• 4+ doors required for passenger transport</li>\n              <li>• Air conditioning recommended</li>\n              <li>• Must pass safety inspection</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VehicleInfoStep;"