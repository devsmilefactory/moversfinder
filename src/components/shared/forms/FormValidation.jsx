import React from 'react';\nimport { AlertCircle, CheckCircle, AlertTriangle, Info } from 'lucide-react';\nimport Icon from '../../ui/AppIcon';\n\n/**\n * FormValidation Component\n * \n * Displays form validation messages and status including:\n * - Field-level error messages\n * - Form-level validation summary\n * - Success and warning messages\n * - Validation progress indicators\n */\nconst FormValidation = ({\n  errors = {},\n  warnings = {},\n  successes = {},\n  showSummary = false,\n  showFieldCount = false,\n  title = 'Validation Summary',\n  className = ''\n}) => {\n  const errorCount = Object.keys(errors).length;\n  const warningCount = Object.keys(warnings).length;\n  const successCount = Object.keys(successes).length;\n  const totalIssues = errorCount + warningCount;\n\n  // Individual field validation message\n  const FieldValidation = ({ type, message, field }) => {\n    const getIcon = () => {\n      switch (type) {\n        case 'error':\n          return <AlertCircle className=\"w-4 h-4 text-red-500\" />;\n        case 'warning':\n          return <AlertTriangle className=\"w-4 h-4 text-yellow-500\" />;\n        case 'success':\n          return <CheckCircle className=\"w-4 h-4 text-green-500\" />;\n        default:\n          return <Info className=\"w-4 h-4 text-blue-500\" />;\n      }\n    };\n\n    const getTextColor = () => {\n      switch (type) {\n        case 'error':\n          return 'text-red-700';\n        case 'warning':\n          return 'text-yellow-700';\n        case 'success':\n          return 'text-green-700';\n        default:\n          return 'text-blue-700';\n      }\n    };\n\n    const getBgColor = () => {\n      switch (type) {\n        case 'error':\n          return 'bg-red-50 border-red-200';\n        case 'warning':\n          return 'bg-yellow-50 border-yellow-200';\n        case 'success':\n          return 'bg-green-50 border-green-200';\n        default:\n          return 'bg-blue-50 border-blue-200';\n      }\n    };\n\n    return (\n      <div className={`flex items-start gap-2 p-3 rounded-lg border ${getBgColor()}`}>\n        {getIcon()}\n        <div className=\"flex-1 min-w-0\">\n          {field && (\n            <p className={`text-sm font-medium ${getTextColor()} mb-1`}>\n              {field}\n            </p>\n          )}\n          <p className={`text-sm ${getTextColor()}`}>\n            {message}\n          </p>\n        </div>\n      </div>\n    );\n  };\n\n  // Validation summary component\n  const ValidationSummary = () => {\n    if (totalIssues === 0 && successCount === 0) return null;\n\n    return (\n      <div className=\"space-y-3\">\n        {/* Summary Header */}\n        <div className=\"flex items-center justify-between\">\n          <h3 className=\"text-sm font-medium text-gray-900\">{title}</h3>\n          {showFieldCount && (\n            <div className=\"flex items-center gap-4 text-xs\">\n              {errorCount > 0 && (\n                <span className=\"flex items-center gap-1 text-red-600\">\n                  <AlertCircle className=\"w-3 h-3\" />\n                  {errorCount} error{errorCount !== 1 ? 's' : ''}\n                </span>\n              )}\n              {warningCount > 0 && (\n                <span className=\"flex items-center gap-1 text-yellow-600\">\n                  <AlertTriangle className=\"w-3 h-3\" />\n                  {warningCount} warning{warningCount !== 1 ? 's' : ''}\n                </span>\n              )}\n              {successCount > 0 && (\n                <span className=\"flex items-center gap-1 text-green-600\">\n                  <CheckCircle className=\"w-3 h-3\" />\n                  {successCount} success{successCount !== 1 ? 'es' : ''}\n                </span>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Messages */}\n        <div className=\"space-y-2\">\n          {/* Errors */}\n          {Object.entries(errors).map(([field, message]) => (\n            <FieldValidation\n              key={`error-${field}`}\n              type=\"error\"\n              field={field}\n              message={message}\n            />\n          ))}\n\n          {/* Warnings */}\n          {Object.entries(warnings).map(([field, message]) => (\n            <FieldValidation\n              key={`warning-${field}`}\n              type=\"warning\"\n              field={field}\n              message={message}\n            />\n          ))}\n\n          {/* Successes */}\n          {Object.entries(successes).map(([field, message]) => (\n            <FieldValidation\n              key={`success-${field}`}\n              type=\"success\"\n              field={field}\n              message={message}\n            />\n          ))}\n        </div>\n\n        {/* Overall Status */}\n        {totalIssues === 0 && successCount > 0 && (\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\n            <div className=\"flex items-center gap-2\">\n              <CheckCircle className=\"w-4 h-4 text-green-600\" />\n              <span className=\"text-sm font-medium text-green-900\">\n                All validations passed!\n              </span>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // Single field error display\n  const SingleFieldError = ({ error }) => {\n    if (!error) return null;\n\n    return (\n      <div className=\"flex items-center gap-2 mt-1\">\n        <AlertCircle className=\"w-4 h-4 text-red-500 flex-shrink-0\" />\n        <span className=\"text-sm text-red-600\">{error}</span>\n      </div>\n    );\n  };\n\n  // Single field warning display\n  const SingleFieldWarning = ({ warning }) => {\n    if (!warning) return null;\n\n    return (\n      <div className=\"flex items-center gap-2 mt-1\">\n        <AlertTriangle className=\"w-4 h-4 text-yellow-500 flex-shrink-0\" />\n        <span className=\"text-sm text-yellow-600\">{warning}</span>\n      </div>\n    );\n  };\n\n  // Single field success display\n  const SingleFieldSuccess = ({ success }) => {\n    if (!success) return null;\n\n    return (\n      <div className=\"flex items-center gap-2 mt-1\">\n        <CheckCircle className=\"w-4 h-4 text-green-500 flex-shrink-0\" />\n        <span className=\"text-sm text-green-600\">{success}</span>\n      </div>\n    );\n  };\n\n  // If showing summary, render the full validation summary\n  if (showSummary) {\n    return (\n      <div className={className}>\n        <ValidationSummary />\n      </div>\n    );\n  }\n\n  // Otherwise, render individual field messages\n  return (\n    <div className={`space-y-1 ${className}`}>\n      {/* Render all errors */}\n      {Object.entries(errors).map(([field, error]) => (\n        <SingleFieldError key={`error-${field}`} error={error} />\n      ))}\n      \n      {/* Render all warnings */}\n      {Object.entries(warnings).map(([field, warning]) => (\n        <SingleFieldWarning key={`warning-${field}`} warning={warning} />\n      ))}\n      \n      {/* Render all successes */}\n      {Object.entries(successes).map(([field, success]) => (\n        <SingleFieldSuccess key={`success-${field}`} success={success} />\n      ))}\n    </div>\n  );\n};\n\n// Export individual components for direct use\nexport const FieldError = ({ error, className = '' }) => {\n  if (!error) return null;\n  \n  return (\n    <div className={`flex items-center gap-2 mt-1 ${className}`}>\n      <AlertCircle className=\"w-4 h-4 text-red-500 flex-shrink-0\" />\n      <span className=\"text-sm text-red-600\">{error}</span>\n    </div>\n  );\n};\n\nexport const FieldWarning = ({ warning, className = '' }) => {\n  if (!warning) return null;\n  \n  return (\n    <div className={`flex items-center gap-2 mt-1 ${className}`}>\n      <AlertTriangle className=\"w-4 h-4 text-yellow-500 flex-shrink-0\" />\n      <span className=\"text-sm text-yellow-600\">{warning}</span>\n    </div>\n  );\n};\n\nexport const FieldSuccess = ({ success, className = '' }) => {\n  if (!success) return null;\n  \n  return (\n    <div className={`flex items-center gap-2 mt-1 ${className}`}>\n      <CheckCircle className=\"w-4 h-4 text-green-500 flex-shrink-0\" />\n      <span className=\"text-sm text-green-600\">{success}</span>\n    </div>\n  );\n};\n\nexport default FormValidation;"