import React from 'react';\nimport { ChevronLeft, ChevronRight, Check } from 'lucide-react';\nimport Button from '../../ui/Button';\nimport Icon from '../../ui/AppIcon';\n\n/**\n * StepNavigation Component\n * \n * Provides navigation controls for multi-step forms including:\n * - Step indicators with progress visualization\n * - Previous/Next navigation buttons\n * - Step completion status\n * - Accessible navigation controls\n */\nconst StepNavigation = ({\n  currentStep = 1,\n  totalSteps = 5,\n  stepLabels = [],\n  completedSteps = [],\n  onNext,\n  onPrevious,\n  onGoToStep,\n  canGoNext = true,\n  canGoBack = true,\n  isLastStep = false,\n  nextLabel = 'Next',\n  previousLabel = 'Back',\n  submitLabel = 'Submit',\n  loading = false,\n  showStepLabels = true,\n  showProgress = true,\n  className = ''\n}) => {\n  const getStepStatus = (step) => {\n    if (completedSteps.includes(step)) return 'completed';\n    if (step === currentStep) return 'current';\n    if (step < currentStep) return 'visited';\n    return 'upcoming';\n  };\n\n  const getStepIcon = (step, status) => {\n    if (status === 'completed') {\n      return <Check className=\"w-4 h-4\" />;\n    }\n    return <span className=\"text-sm font-medium\">{step}</span>;\n  };\n\n  const getStepClasses = (status) => {\n    const baseClasses = 'flex items-center justify-center w-8 h-8 rounded-full border-2 transition-colors';\n    \n    switch (status) {\n      case 'completed':\n        return `${baseClasses} bg-green-600 border-green-600 text-white`;\n      case 'current':\n        return `${baseClasses} bg-blue-600 border-blue-600 text-white`;\n      case 'visited':\n        return `${baseClasses} bg-gray-100 border-gray-300 text-gray-600`;\n      default:\n        return `${baseClasses} bg-white border-gray-300 text-gray-400`;\n    }\n  };\n\n  const getConnectorClasses = (step) => {\n    const isCompleted = completedSteps.includes(step) || step < currentStep;\n    return `flex-1 h-0.5 ${isCompleted ? 'bg-green-600' : 'bg-gray-300'}`;\n  };\n\n  const handleStepClick = (step) => {\n    if (onGoToStep && (completedSteps.includes(step) || Math.abs(step - currentStep) <= 1)) {\n      onGoToStep(step);\n    }\n  };\n\n  const progressPercentage = Math.round((currentStep / totalSteps) * 100);\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Progress Bar */}\n      {showProgress && (\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center justify-between text-sm\">\n            <span className=\"font-medium text-gray-700\">\n              Step {currentStep} of {totalSteps}\n            </span>\n            <span className=\"text-gray-600\">\n              {progressPercentage}% Complete\n            </span>\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\n            <div\n              className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n              style={{ width: `${progressPercentage}%` }}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Step Indicators */}\n      <div className=\"flex items-center justify-between\">\n        {Array.from({ length: totalSteps }, (_, index) => {\n          const step = index + 1;\n          const status = getStepStatus(step);\n          const isClickable = onGoToStep && (completedSteps.includes(step) || Math.abs(step - currentStep) <= 1);\n          \n          return (\n            <React.Fragment key={step}>\n              <div className=\"flex flex-col items-center space-y-2\">\n                {/* Step Circle */}\n                <button\n                  onClick={() => handleStepClick(step)}\n                  disabled={!isClickable}\n                  className={`${getStepClasses(status)} ${isClickable ? 'cursor-pointer hover:scale-105' : 'cursor-default'} transition-transform`}\n                  aria-label={`Step ${step}${stepLabels[index] ? `: ${stepLabels[index]}` : ''}`}\n                >\n                  {getStepIcon(step, status)}\n                </button>\n                \n                {/* Step Label */}\n                {showStepLabels && stepLabels[index] && (\n                  <span className={`text-xs text-center max-w-20 leading-tight ${\n                    status === 'current' ? 'text-blue-600 font-medium' : 'text-gray-600'\n                  }`}>\n                    {stepLabels[index]}\n                  </span>\n                )}\n              </div>\n              \n              {/* Connector Line */}\n              {step < totalSteps && (\n                <div className={getConnectorClasses(step)} />\n              )}\n            </React.Fragment>\n          );\n        })}\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex items-center justify-between pt-4\">\n        {/* Previous Button */}\n        <div className=\"flex-1\">\n          {canGoBack && (\n            <Button\n              onClick={onPrevious}\n              variant=\"outline\"\n              disabled={loading}\n              className=\"flex items-center gap-2\"\n            >\n              <ChevronLeft className=\"w-4 h-4\" />\n              {previousLabel}\n            </Button>\n          )}\n        </div>\n\n        {/* Step Info */}\n        <div className=\"flex-1 text-center\">\n          <span className=\"text-sm text-gray-600\">\n            {showStepLabels && stepLabels[currentStep - 1] \n              ? stepLabels[currentStep - 1]\n              : `Step ${currentStep}`\n            }\n          </span>\n        </div>\n\n        {/* Next/Submit Button */}\n        <div className=\"flex-1 flex justify-end\">\n          <Button\n            onClick={isLastStep ? undefined : onNext}\n            type={isLastStep ? 'submit' : 'button'}\n            disabled={!canGoNext || loading}\n            loading={loading}\n            className=\"flex items-center gap-2\"\n          >\n            {isLastStep ? submitLabel : nextLabel}\n            {!isLastStep && <ChevronRight className=\"w-4 h-4\" />}\n          </Button>\n        </div>\n      </div>\n\n      {/* Keyboard Navigation Hint */}\n      <div className=\"text-center\">\n        <p className=\"text-xs text-gray-500\">\n          Use Tab to navigate, Enter to select, or click to jump between completed steps\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default StepNavigation;"